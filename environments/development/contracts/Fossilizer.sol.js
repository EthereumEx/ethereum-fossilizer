// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"hash","type":"uint256"},{"name":"path","type":"string"},{"name":"computer","type":"string"}],"name":"fossilizeDocument","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"emails","outputs":[{"name":"sender","type":"address"},{"name":"subject","type":"string"},{"name":"emailFrom","type":"string"},{"name":"emailTo","type":"string"}],"type":"function"},{"constant":false,"inputs":[{"name":"hash","type":"uint256"},{"name":"subject","type":"string"},{"name":"emailFrom","type":"string"},{"name":"emailTo","type":"string"}],"name":"fossilizeEmail","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"documents","outputs":[{"name":"sender","type":"address"},{"name":"path","type":"string"},{"name":"computer","type":"string"}],"type":"function"},{"anonymous":false,"inputs":[{"indexed":false,"name":"timestamp","type":"uint256"},{"indexed":true,"name":"sender","type":"address"},{"indexed":false,"name":"path","type":"string"},{"indexed":false,"name":"computer","type":"string"}],"name":"DocumentFossilized","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"timestamp","type":"uint256"},{"indexed":true,"name":"sender","type":"address"},{"indexed":false,"name":"subject","type":"string"},{"indexed":false,"name":"emailFrom","type":"string"},{"indexed":false,"name":"emailTo","type":"string"}],"name":"EmailFossilized","type":"event"}],
    binary: "6060604052610a38806100126000396000f3606060405260e060020a600035046353b62c4b811461003c578063695a7d49146101565780636f656be314610187578063c2ed2b05146102d0575b005b60408051602060248035600481810135601f810185900485028601850190965285855261003a9581359591946044949293909201918190840183828082843750506040805160209735808a0135601f81018a90048a0283018a0190935282825296989760649791965060249190910194509092508291508401838280828437509496505050505050506000838152602081815260408220805473ffffffffffffffffffffffffffffffffffffffff19163317815584516001918201805481865294849020909460029381161561010002600019011692909204601f9081018490048301939192918701908390106106a757805160ff19168380011785555b506106d79291505b8082111561073c5760008155600101610142565b6102fb60043560016020819052600091825260409091208054600160a060020a031691810190600281019060030184565b60408051602060248035600481810135601f810185900485028601850190965285855261003a9581359591946044949293909201918190840183828082843750506040805160209735808a0135601f81018a90048a0283018a019093528282529698976064979196506024919091019450909250829150840183828082843750506040805160209735808a0135601f81018a90048a0283018a01909352828252969897608497919650602491909101945090925082915084018382808284375094965050505050505060008481526001602081815260408320805473ffffffffffffffffffffffffffffffffffffffff191633178155820180548751828652948390209194600294821615610100026000190190911693909304601f908101839004820193928801908390106108d957805160ff19168380011785555b50610909929150610142565b61048b60043560006020819052908152604090208054600160a060020a031690600181019060020183565b60408051600160a060020a03861681526080602082018181528654600260018216156101000260001901909116049183018290529192830190606084019060a08501908890801561038d5780601f106103625761010080835404028352916020019161038d565b820191906000526020600020905b81548152906001019060200180831161037057829003601f168201915b5050848103835286546002600182161561010002600019019091160480825260209190910190879080156104025780601f106103d757610100808354040283529160200191610402565b820191906000526020600020905b8154815290600101906020018083116103e557829003601f168201915b5050848103825285546002600182161561010002600019019091160480825260209190910190869080156104775780601f1061044c57610100808354040283529160200191610477565b820191906000526020600020905b81548152906001019060200180831161045a57829003601f168201915b505097505050505050505060405180910390f35b60408051600160a060020a038516815260606020820181815285546002600182161561010002600019019091160491830182905291928301906080840190869080156105185780601f106104ed57610100808354040283529160200191610518565b820191906000526020600020905b8154815290600101906020018083116104fb57829003601f168201915b50508381038252845460026001821615610100026000190190911604808252602091909101908590801561058d5780601f106105625761010080835404028352916020019161058d565b820191906000526020600020905b81548152906001019060200180831161057057829003601f168201915b50509550505050505060405180910390f35b505033600160a060020a03167f096446e41cd3159854b2826c575cfaad1b34b39375f4b0b7e7304dfcc54596a34284846040518084815260200180602001806020018381038352858181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156106395780820380516001836020036101000a031916815260200191505b508381038252848181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156106925780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a2505050565b8280016001018555821561013a579182015b8281111561013a5782518260005055916020019190600101906106b9565b50506000838152602081815260408220835160029182018054818652948490209094600181161561010002600019011692909204601f90810184900483019391929186019083901061074057805160ff19168380011785555b5061059f929150610142565b5090565b82800160010185558215610730579182015b82811115610730578251826000505591602001919060010190610752565b505033600160a060020a03167ff762e4156052d08e2ea52863d39659a63f9d0067a9e1cd9e9d96581be491f5fc42858585604051808581526020018060200180602001806020018481038452878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561080f5780820380516001836020036101000a031916815260200191505b508481038352868181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156108685780820380516001836020036101000a031916815260200191505b508481038252858181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156108c15780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390a250505050565b828001600101855582156102c4579182015b828111156102c45782518260005055916020019190600101906108eb565b50506000848152600160208181526040832085516002918201805481875295849020909594851615610100026000190190941691909104601f908101839004840193919287019083901061097057805160ff19168380011785555b506109a0929150610142565b82800160010185558215610964579182015b82811115610964578251826000505591602001919060010190610982565b5050600084815260016020818152604083208451600391909101805481865294839020909460029481161561010002600019011693909304601f9081018390048401939192860190839010610a0857805160ff19168380011785555b50610770929150610142565b828001600101855582156109fc579182015b828111156109fc578251826000505591602001919060010190610a1a56",
    unlinked_binary: "6060604052610a38806100126000396000f3606060405260e060020a600035046353b62c4b811461003c578063695a7d49146101565780636f656be314610187578063c2ed2b05146102d0575b005b60408051602060248035600481810135601f810185900485028601850190965285855261003a9581359591946044949293909201918190840183828082843750506040805160209735808a0135601f81018a90048a0283018a0190935282825296989760649791965060249190910194509092508291508401838280828437509496505050505050506000838152602081815260408220805473ffffffffffffffffffffffffffffffffffffffff19163317815584516001918201805481865294849020909460029381161561010002600019011692909204601f9081018490048301939192918701908390106106a757805160ff19168380011785555b506106d79291505b8082111561073c5760008155600101610142565b6102fb60043560016020819052600091825260409091208054600160a060020a031691810190600281019060030184565b60408051602060248035600481810135601f810185900485028601850190965285855261003a9581359591946044949293909201918190840183828082843750506040805160209735808a0135601f81018a90048a0283018a019093528282529698976064979196506024919091019450909250829150840183828082843750506040805160209735808a0135601f81018a90048a0283018a01909352828252969897608497919650602491909101945090925082915084018382808284375094965050505050505060008481526001602081815260408320805473ffffffffffffffffffffffffffffffffffffffff191633178155820180548751828652948390209194600294821615610100026000190190911693909304601f908101839004820193928801908390106108d957805160ff19168380011785555b50610909929150610142565b61048b60043560006020819052908152604090208054600160a060020a031690600181019060020183565b60408051600160a060020a03861681526080602082018181528654600260018216156101000260001901909116049183018290529192830190606084019060a08501908890801561038d5780601f106103625761010080835404028352916020019161038d565b820191906000526020600020905b81548152906001019060200180831161037057829003601f168201915b5050848103835286546002600182161561010002600019019091160480825260209190910190879080156104025780601f106103d757610100808354040283529160200191610402565b820191906000526020600020905b8154815290600101906020018083116103e557829003601f168201915b5050848103825285546002600182161561010002600019019091160480825260209190910190869080156104775780601f1061044c57610100808354040283529160200191610477565b820191906000526020600020905b81548152906001019060200180831161045a57829003601f168201915b505097505050505050505060405180910390f35b60408051600160a060020a038516815260606020820181815285546002600182161561010002600019019091160491830182905291928301906080840190869080156105185780601f106104ed57610100808354040283529160200191610518565b820191906000526020600020905b8154815290600101906020018083116104fb57829003601f168201915b50508381038252845460026001821615610100026000190190911604808252602091909101908590801561058d5780601f106105625761010080835404028352916020019161058d565b820191906000526020600020905b81548152906001019060200180831161057057829003601f168201915b50509550505050505060405180910390f35b505033600160a060020a03167f096446e41cd3159854b2826c575cfaad1b34b39375f4b0b7e7304dfcc54596a34284846040518084815260200180602001806020018381038352858181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156106395780820380516001836020036101000a031916815260200191505b508381038252848181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156106925780820380516001836020036101000a031916815260200191505b509550505050505060405180910390a2505050565b8280016001018555821561013a579182015b8281111561013a5782518260005055916020019190600101906106b9565b50506000838152602081815260408220835160029182018054818652948490209094600181161561010002600019011692909204601f90810184900483019391929186019083901061074057805160ff19168380011785555b5061059f929150610142565b5090565b82800160010185558215610730579182015b82811115610730578251826000505591602001919060010190610752565b505033600160a060020a03167ff762e4156052d08e2ea52863d39659a63f9d0067a9e1cd9e9d96581be491f5fc42858585604051808581526020018060200180602001806020018481038452878181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f16801561080f5780820380516001836020036101000a031916815260200191505b508481038352868181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156108685780820380516001836020036101000a031916815260200191505b508481038252858181518152602001915080519060200190808383829060006004602084601f0104600f02600301f150905090810190601f1680156108c15780820380516001836020036101000a031916815260200191505b5097505050505050505060405180910390a250505050565b828001600101855582156102c4579182015b828111156102c45782518260005055916020019190600101906108eb565b50506000848152600160208181526040832085516002918201805481875295849020909594851615610100026000190190941691909104601f908101839004840193919287019083901061097057805160ff19168380011785555b506109a0929150610142565b82800160010185558215610964579182015b82811115610964578251826000505591602001919060010190610982565b5050600084815260016020818152604083208451600391909101805481865294839020909460029481161561010002600019011693909304601f9081018390048401939192860190839010610a0857805160ff19168380011785555b50610770929150610142565b828001600101855582156109fc579182015b828111156109fc578251826000505591602001919060010190610a1a56",
    address: "0xb7ada2209402b9409aa3a19c3a15af7043a34e6b",
    generated_with: "2.0.9",
    contract_name: "Fossilizer"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("Fossilizer error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("Fossilizer error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("Fossilizer error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("Fossilizer error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.Fossilizer = Contract;
  }

})();
